(self.webpackChunkspecs=self.webpackChunkspecs||[]).push([[259],{3253:function(e,r,t){"use strict";t.r(r),t.d(r,{frontMatter:function(){return c},contentTitle:function(){return l},metadata:function(){return d},toc:function(){return u},default:function(){return v}});var i=t(7462),a=t(3366),s=(t(7294),t(3905)),n=t(3456),o=["components"],c={title:"News"},l=void 0,d={unversionedId:"Microservices/news",id:"Microservices/news",isDocsHomePage:!1,title:"News",description:"| Scraper | Provider |",source:"@site/docs/Microservices/news.md",sourceDirName:"Microservices",slug:"/Microservices/news",permalink:"/specs/docs/Microservices/news",editUrl:"https://github.com/covid-alert-microservices/specs/edit/master/docs/Microservices/news.md",tags:[],version:"current",frontMatter:{title:"News"},sidebar:"tutorialSidebar",previous:{title:"G\xe9olocalisation",permalink:"/specs/docs/Microservices/geolocation"}},u=[{value:"Mise \xe0 jour des news",id:"mise-\xe0-jour-des-news",children:[],level:2},{value:"R\xe9cup\xe9ration des news par l&#39;utilisateur",id:"r\xe9cup\xe9ration-des-news-par-lutilisateur",children:[],level:2}],p={toc:u};function v(e){var r=e.components,t=(0,a.Z)(e,o);return(0,s.kt)("wrapper",(0,i.Z)({},p,t,{components:r,mdxType:"MDXLayout"}),(0,s.kt)("table",null,(0,s.kt)("thead",{parentName:"table"},(0,s.kt)("tr",{parentName:"thead"},(0,s.kt)("th",{parentName:"tr",align:null},"Scraper"),(0,s.kt)("th",{parentName:"tr",align:null},"Provider"))),(0,s.kt)("tbody",{parentName:"table"},(0,s.kt)("tr",{parentName:"tbody"},(0,s.kt)("td",{parentName:"tr",align:null},(0,s.kt)("a",{parentName:"td",href:"https://github.com/Covid-Alert-Microservices/news-scraper/actions/workflows/build.yaml"},(0,s.kt)("img",{parentName:"a",src:"https://github.com/Covid-Alert-Microservices/news-scraper/actions/workflows/build.yaml/badge.svg",alt:"Build"}))),(0,s.kt)("td",{parentName:"tr",align:null},(0,s.kt)("a",{parentName:"td",href:"https://github.com/Covid-Alert-Microservices/news-provider/actions/workflows/build.yaml"},(0,s.kt)("img",{parentName:"a",src:"https://github.com/Covid-Alert-Microservices/news-provider/actions/workflows/build.yaml/badge.svg",alt:"Build"})))),(0,s.kt)("tr",{parentName:"tbody"},(0,s.kt)("td",{parentName:"tr",align:null}),(0,s.kt)("td",{parentName:"tr",align:null},(0,s.kt)("a",{parentName:"td",href:"https://codecov.io/gh/Covid-Alert-Microservices/news-provider"},(0,s.kt)("img",{parentName:"a",src:"https://codecov.io/gh/Covid-Alert-Microservices/news-provider/branch/master/graph/badge.svg?token=R3KWA2KVNT",alt:"codecov"})))))),(0,s.kt)("p",null,"Le syst\xe8me de news permet de mettre \xe0 disposition des informations qui concernant la Covid-19 \xe0 l'utilisateur. Nous avons fait le choix de s\xe9parer celui-ci en deux microservices :"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"Un scraper qui va r\xe9cup\xe9rer les derniers articles parus sur ",(0,s.kt)("a",{parentName:"li",href:"https://covidtracker.fr/"},"CovidTracker")),(0,s.kt)("li",{parentName:"ul"},"Un provider qui aura pour r\xf4le d'assurer la livraison des articles scrap\xe9s \xe0 l'utilisateur")),(0,s.kt)("p",null,"Le d\xe9clenchement du scraper se fera \xe0 intervales r\xe9guli\xe9s par le biais d'un t\xe2che cron."),(0,s.kt)("h2",{id:"mise-\xe0-jour-des-news"},"Mise \xe0 jour des news"),(0,s.kt)(n.Mermaid,{chart:"%%{init: {\n    'theme': 'base', \n    'themeVariables': {\n        'actorTextColor': 'black',\n        'primaryTextColor': '#25c2a0'\n    }\n  }\n}%%\nsequenceDiagram\n    autonumber\n    CronTab->>Scraper: Il est temps de scraper\n    activate Scraper\n    Scraper->>CovidTracker: R\xe9cup\xe8re l'HTML\n    Scraper->>Scraper: R\xe9cup\xe8re les articles relatifs \xe0 la Covid-19\n    Scraper->>Provider: POST /api/news\n    deactivate Scraper\n    activate Provider\n    Provider->>Redis: Stocke les articles\n    deactivate Provider",mdxType:"Mermaid"}),(0,s.kt)("h2",{id:"r\xe9cup\xe9ration-des-news-par-lutilisateur"},"R\xe9cup\xe9ration des news par l'utilisateur"),(0,s.kt)(n.Mermaid,{chart:"%%{init: {\n    'theme': 'base', \n    'themeVariables': {\n        'actorTextColor': 'black',\n        'primaryTextColor': '#25c2a0'\n    }\n  }\n}%%\nsequenceDiagram\n    autonumber\n    Utilisateur->>Provider: GET /api/news\n    activate Utilisateur\n    activate Provider\n    Provider->>Redis: R\xe9cup\xe8re la liste des news\n    Provider->>Utilisateur: Renvoie la liste des news\n    deactivate Provider\n    deactivate Utilisateur",mdxType:"Mermaid"}))}v.isMDXComponent=!0},1748:function(e,r,t){var i={"./locale":9234,"./locale.js":9234};function a(e){var r=s(e);return t(r)}function s(e){if(!t.o(i,e)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=s,e.exports=a,a.id=1748}}]);