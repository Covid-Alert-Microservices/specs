"use strict";(self.webpackChunkspecs=self.webpackChunkspecs||[]).push([[798],{3905:function(e,t,r){r.d(t,{Zo:function(){return p},kt:function(){return m}});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var c=n.createContext({}),l=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},p=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,i=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=l(r),m=o,f=d["".concat(c,".").concat(m)]||d[m]||u[m]||i;return r?n.createElement(f,a(a({ref:t},p),{},{components:r})):n.createElement(f,a({ref:t},p))}));function m(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=r.length,a=new Array(i);a[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:o,a[1]=s;for(var l=2;l<i;l++)a[l]=r[l];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},8375:function(e,t,r){r.r(t),r.d(t,{frontMatter:function(){return s},contentTitle:function(){return c},metadata:function(){return l},toc:function(){return p},default:function(){return d}});var n=r(7462),o=r(3366),i=(r(7294),r(3905)),a=["components"],s={sidebar_position:3},c="Topics",l={unversionedId:"topics",id:"topics",isDocsHomePage:!1,title:"Topics",description:"Comme indiqu\xe9 dans pr\xe9c\xe9demment dans le contexte du projet, nous devons utiliser Kafka pour communiquer entre nos divers microservices. La communication sur cette plateforme distribu\xe9e de diffusion d'\xe9v\xe9nements se g\xe8re avec ce que l'on appelle des topics.",source:"@site/docs/topics.md",sourceDirName:".",slug:"/topics",permalink:"/specs/docs/topics",editUrl:"https://github.com/covid-alert-microservices/specs/edit/master/docs/topics.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Architecture",permalink:"/specs/docs/architecture"},next:{title:"Alertes",permalink:"/specs/docs/Microservices/alerts"}},p=[{value:"geolocation_created",id:"geolocation_created",children:[],level:3},{value:"user_positive",id:"user_positive",children:[],level:3},{value:"send_alert",id:"send_alert",children:[],level:3}],u={toc:p};function d(e){var t=e.components,r=(0,o.Z)(e,a);return(0,i.kt)("wrapper",(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"topics"},"Topics"),(0,i.kt)("p",null,"Comme indiqu\xe9 dans pr\xe9c\xe9demment dans le contexte du projet, nous devons utiliser ",(0,i.kt)("a",{parentName:"p",href:"https://kafka.apache.org/intro"},"Kafka")," pour communiquer entre nos divers microservices. La communication sur cette plateforme distribu\xe9e de diffusion d'\xe9v\xe9nements se g\xe8re avec ce que l'on appelle des ",(0,i.kt)("a",{parentName:"p",href:"https://kafka.apache.org/intro#intro_concepts_and_terms"},"topics"),"."),(0,i.kt)("p",null,"Afin d'assurer une bonne communication et une interrop\xe9rabilit\xe9 entre les services nous nous sommes mis d'accord sur des interfaces de communication."),(0,i.kt)("h3",{id:"geolocation_created"},"[geolocation_created]"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Lorsqu'une g\xe9olocalisation est enregistr\xe9e il faut mettre \xe0 jour le graph de proximit\xe9 de mani\xe8re asynchrone.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"geolocation service")," -> ",(0,i.kt)("em",{parentName:"p"},"geolocation_created")," -> ",(0,i.kt)("strong",{parentName:"p"},"geolocation service")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"class GeolocationCreatedDTO {\n    private Geolocation geolocation;\n}\n")),(0,i.kt)("h3",{id:"user_positive"},"[user_positive]"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Lorsqu'un utilisateur rentre un test positif sur l'application, le service des tests doit alerter le service de g\xe9olocalisation pour que celui-ci puisse trouver les personnes contacts.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"tests service")," -> ",(0,i.kt)("em",{parentName:"p"},"user_positive")," -> ",(0,i.kt)("strong",{parentName:"p"},"geolocation service")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"class UserPositiveDTO {\n    private String userId;\n    private Long timestamp;\n}\n")),(0,i.kt)("h3",{id:"send_alert"},"[send_alert]"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Lorsque le service de g\xe9olocalisation trouve des personnes contact il doit faire en sorte qu'elles soient notifi\xe9es.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"geolocation service")," -> ",(0,i.kt)("em",{parentName:"p"},"send_alert")," -> ",(0,i.kt)("strong",{parentName:"p"},"alert service")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"class SendAlertDTO {\n    private String userId;\n    private Long timestamp;\n}\n")))}d.isMDXComponent=!0}}]);